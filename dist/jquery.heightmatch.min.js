/*!
 * heightmatch - Super simple jQuery plugin that ensures elements have matching heights.
 * @version v0.4.0
 * @link https://github.com/samtiffin/heightmatch
 * @license ISC
 */
!function(t,e){"use strict";function i(t,n){this.$elements=e(t),this.options=e.extend({},i.defaults,n),this.groups={},this.init()}i.defaults={bindResize:!1,matchGroups:null},i.prototype.init=function(){this._bindEvents(),this.groups=this._groupElements(),this.matchHeights(this.options.matchGroups)},i.prototype.destroy=function(){this._unbindEvents(),this.unmatchHeights()},i.prototype.matchHeights=function(t){var i=this;t=e.map(arguments.length>1?arguments:e.isArray(t)?t:"string"==typeof t?[t]:[],function(t){return"_"+t}),this.groups&&e.each(e.map(this.groups,function(i,n){return t.length?-1===e.inArray(n,t)?null:i:i}),function(t,e){e.height(i._maxHeight(e))})},i.prototype.unmatchHeights=function(){this.$elements.height("")},i.prototype.refresh=function(){var t=arguments.length?arguments:this.options.matchGroups;this.matchHeights.apply(this,t)},i.prototype._maxHeight=function(t){return Math.max.apply(Math,t.map(function(t,i){return e(i).height("").outerHeight(!0)}))},i.prototype._groupElements=function(){var t={},i={};return this.$elements.each(function(){var i=e(this),n=i.data("heightmatchGroup"),h=n?"_"+n:"all";t[h]?t[h].push(i[0]):t[h]=[i[0]]}),e.each(t,function(t,n){i[t]=e([]).pushStack(n)}),i},i.prototype._bindEvents=function(){this.options.bindResize&&e(t).on("resize.heightmatch",e.proxy(this._resizeHandler,this)),this.$elements.on("refresh.heightmatch",e.proxy(this._resizeHandler,this))},i.prototype._unbindEvents=function(){this.options.bindResize&&e(t).off(".heightmatch"),this.$elements.off(".heightmatch")},i.prototype._resizeHandler=function(){var t=arguments.length>1?Array.prototype.slice.call(arguments,1):this.options.matchGroups;this.matchHeights.apply(this,t)},e.fn.heightmatch=function(t){var e="heightmatch",n=this.data(e);return n?n&&"string"==typeof t&&n[t]&&"function"==typeof n[t]&&n[t].apply(n,Array.prototype.slice.call(arguments,1)):this.data(e,new i(this,t)),this}}(window,jQuery);